# λ²¨λ§ ν¬λ“(Bellman-Ford) μµλ‹¨ κ²½λ΅ μ•κ³ λ¦¬μ¦
#### π“ μ΄κ²ƒμ΄ μ·¨μ—…μ„ μ„ν• μ½”λ”© ν…μ¤νΈλ‹¤ with νμ΄μ¬ (λ‚λ™λΉ)

-----
### π” λ²¨λ§ ν¬λ“ μµλ‹¨ κ²½λ΅ μ•κ³ λ¦¬μ¦
- μμ κ°„μ„ μ΄ ν¬ν•¨λ μƒν™©μ—μ„μ μµλ‹¨ κ±°λ¦¬ λ¬Έμ μ— ν¨κ³Όμ μΌλ΅ μ‚¬μ©λ¨
- μμ κ°„μ„ μ— κ΄€ν•μ—¬ μµλ‹¨ κ²½λ΅ λ¬Έμ λ” λ‹¤μκ³Ό κ°™μ΄ λ¶„λ¥ν•  μ μμ
    1) λ¨λ“  κ°„μ„ μ΄ μ–‘μμΈ κ²½μ°
    2) μμ κ°„μ„ μ΄ μλ” κ²½μ°
        1) μμ κ°„μ„  μν™μ€ μ—†λ” κ²½μ°
        2) μμ κ°„μ„  μν™μ΄ μλ” κ²½μ°
- μ‹κ°„ λ³µμ΅λ„ : O(VE)
- λ™μ‘ μ›λ¦¬
1. μ¶λ° λ…Έλ“λ¥Ό μ„¤μ •
2. μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ”μ„ μ΄κΈ°ν™”
3. λ‹¤μμ κ³Όμ •μ„ N - 1λ² λ°λ³µ
    1. μ „μ²΄ κ°„μ„  Eκ°λ¥Ό ν•λ‚μ”© ν™•μΈ
    2. κ° κ°„μ„ μ„ κ±°μ³ λ‹¤λ¥Έ λ…Έλ“λ΅ κ°€λ” λΉ„μ©μ„ κ³„μ‚°ν•μ—¬ μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ”μ„ κ°±μ‹   

β€» λ§μ•½ μμ κ°„μ„  μν™μ΄ λ°μƒν•λ”μ§€ μ²΄ν¬ν•κ³  μ‹¶λ‹¤λ©΄ 3λ²μ κ³Όμ •μ„ ν• λ² λ” μν–‰
    - μ΄λ• μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ”μ΄ κ°±μ‹ λλ‹¤λ©΄ μμ κ°„μ„  μν™μ΄ μ΅΄μ¬ν•¨
```python
import sys
input = sys.stdin.readline
INF = int(1e9)

def bf(start):
    # μ‹μ‘ λ…Έλ“μ— λ€ν•΄μ„ μ΄κΈ°ν™”
    dist[start] = 0
    # μ „μ²΄ nλ²μ λΌμ΄λ“(round)λ¥Ό λ°λ³µ
    for i in range(n):
        # λ§¤ λ°λ³µλ§λ‹¤ "λ¨λ“  κ°„μ„ "μ„ ν™•μΈν•λ©°
        for j in range(m):
            cur = edges[j][0]
            next_node = edges[j][1]
            cost = edges[j][2]
            # ν„μ¬ κ°„μ„ μ„ κ±°μ³μ„ λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™ν•λ” κ±°λ¦¬κ°€ λ” μ§§μ€ κ²½μ°
            if dist[cur] != INF and dist[next_node] > dist[cur] + cost:
                dist[next_node] = dist[cur] + cost
                # nλ²μ§Έ λΌμ΄λ“μ—μ„λ„ κ°’μ΄ κ°±μ‹ λλ‹¤λ©΄ μμ μν™μ΄ μ΅΄μ¬
                if i == n - 1:
                    return True
    return False

# λ…Έλ“μ κ°μ, κ°„μ„ μ κ°μλ¥Ό μ…λ ¥λ°›κΈ°
n, m = map(int, input().split())
# λ¨λ“  κ°„μ„ μ— λ€ν• μ •λ³΄λ¥Ό λ‹΄λ” λ¦¬μ¤νΈ λ§λ“¤κΈ°
edges = []
# μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ”μ„ λ¨λ‘ λ¬΄ν•μΌλ΅ μ΄κΈ°ν™”
dist = [INF] * (n + 1)

# λ¨λ“  κ°„μ„  μ •λ³Όλ¥΄ μ…λ ¥λ°›κΈ°
for _ in range(m):
    a, b, c = map(int, input().split())
    # aλ² λ…Έλ“μ—μ„ bλ² λ…Έλ“λ΅ κ°€λ” λΉ„μ©μ΄ cλΌλ” μλ―Έ
    edges.append((a, b, c))

# λ²¨λ§ ν¬λ“ μ•κ³ λ¦¬μ¦μ„ μν–‰
negative_cycle = bf(1) # 1λ² λ…Έλ“κ°€ μ‹μ‘ λ…Έλ“

if negative_cycle:
    print(-1)
else:
    # 1λ² λ…Έλ“λ¥Ό μ μ™Έν• λ‹¤λ¥Έ λ¨λ“  λ…Έλ“λ΅ κ°€κΈ° μ„ν• μµλ‹¨ κ±°λ¦¬ μ¶λ ¥
    for i in range(2, n + 1):
        # λ„λ‹¬ν•  μ μ—†λ” κ²½μ°, -1μ„ μ¶λ ¥
        if dist[i] == INF:
            print("-1)
        # λ„λ‹¬ν•  μ μλ” κ²½μ° κ±°λ¦¬λ¥Ό μ¶λ ¥
        else:
            print(dist[i])
```

### π” λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦ VS λ²¨λ§ ν¬λ“ μ•κ³ λ¦¬μ¦
- λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦
    - λ§¤λ² λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“ μ¤‘μ—μ„ μµλ‹¨ κ±°λ¦¬κ°€ κ°€μ¥ μ§§μ€ λ…Έλ“λ¥Ό μ„ νƒ
    - μμ κ°„μ„ μ΄ μ—†λ‹¤λ©΄ μµμ μ ν•΄λ¥Ό μ°Ύμ„ μ μμ
- λ²¨λ§ ν¬λ“ μ•κ³ λ¦¬μ¦
    - λ§¤λ² λ¨λ“  κ°„μ„ μ„ μ „λ¶€ ν™•μΈ
        - λ”°λΌμ„ <b>λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ—μ„μ μµμ μ ν•΄λ¥Ό ν•­μƒ ν¬ν•¨ν•¨</b>
    - λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ— λΉ„ν•΄μ„ μ‹κ°„μ΄ μ¤λ κ±Έλ¦¬μ§€λ§ μμ κ°„μ„  μν™μ„ νƒμ§€ν•  μ μμ

  
-------------
π“… κ³µλ¶€ λ‚ μ§ : 2021.12.13